(function(a,b){a.ui.refresh.register(function(){return{pluginName:"lite",_init:function(){var d=this,e=d._data,c=d.root();d._initOrg();c.on("touchstart touchmove touchend touchcancel",a.proxy(d._eventHandler,d));e.wrapperH=d.root().height();e.wrapperTop=d.root().offset().top;return d},_changeStyle:function(c,f){var d=this,e=d._data.refreshInfo[c];if(f=="beforeload"){e["$icon"].removeClass("ui-loading");e["$label"].html("\u677e\u5f00\u7acb\u5373\u52a0\u8f7d")}return d._changeStyleOrg(c,f)},_startHandler:function(c){this._data._startY=c.touches[0].pageY},_moveHandler:function(i){var g=this,h=g._data,d=h._startY,j=d-i.touches[0].pageY,f=window.innerHeight,c=h.threshold||(h.wrapperH<f?(h.wrapperH/10+h.wrapperTop||0):f/10);if(!g._status("down")||j<0){return}if(!h._refreshing&&(d>=document.body.scrollHeight-f+c)&&j>10){g._setStyle("down","beforeload");h._refreshing=true}return g},_endHandler:function(){var c=this,d=c._data;if(d._refreshing){c._setStyle("down","loading");c._loadingAction("down","pull");d._refreshing=false}return c},_eventHandler:function(f){var c=this,d=c._data;switch(f.type){case"touchstart":c._startHandler(f);break;case"touchmove":clearTimeout(d._endTimer);d._endTimer=a.later(function(){c._endHandler()},300);c._moveHandler(f);break;case"touchend":case"touchcancel":clearTimeout(d._endTimer);c._endHandler();break}return c}}})})(Zepto);